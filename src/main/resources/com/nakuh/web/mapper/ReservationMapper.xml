<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.nakuh.web.mapper.ReservationMapper">


<!-- 상품 예약하기 -->
	<insert id="insertReservation" parameterType="com.nakuh.web.domain.Reservation">
	
	
	

	RESNUM, STARTDATE, RESNAME, MID, PHONE, 
	RESDATE, RESCOUNT, DEPOSIT, MESSAGE, PRONUM, PRONAME, AMPM) VALUES(
	#{resnum},#{startdate},#{resname},#{mid},#{phone},#{resdate},#{rescount},#{deposit},#{message}, #{pronum}, #{proname}, #{ampm});
<<<<<<< HEAD

=======
<<<<<<< HEAD
	</insert>
	<select id="selectpageReservations" resultType="com.nakuh.web.domain.Reservation" 
	parameterType="com.nakuh.web.cmm.Proxy">
	SELECT @ROWNUM:=@ROWNUM+1 AS rownum,A.*
	FROM (SELECT R.resnum,R.mid,R.resname,P.company,P.proname,R.startdate,R.ampm,R.phone,R.resdate,R.deposit,P.category
			FROM RESERVATION R JOIN PRODUCTS P ON
			R.pronum = P.pronum
	   		ORDER BY resnum DESC) A,(SELECT @ROWNUM:=0) TMP
	ORDER BY rownum
	limit #{startRow},#{pageSize};
	</select>
	<select id="countReservation" resultType="Integer">
	  SELECT COUNT(*)
  	  FROM RESERVATION	
=======
>>>>>>> b1b5374cf6c96ec080a519dc4861bb1e97a33cb0
	
>>>>>>> 428b9bea320018ac3b6135be42fedc6b5ec4b132
>>>>>>> 7f3b3b2b2060df0e390461a72ba39795e81e5448
	</select>
	
	
	
	

	


</mapper>